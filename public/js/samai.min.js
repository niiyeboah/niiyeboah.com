!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("svg.js"));else if("function"==typeof define&&define.amd)define(["svg.js"],e);else{var n=e("object"==typeof exports?require("svg.js"):t.SVG);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){r(this,t),this._p=2147483647,this._c=2147483646,this._r=16807,this.count=0,this._seed=this._dateSeed(e)%this._p,this._seed<=0&&(this._seed+=this._c)}return i(t,[{key:"_dateSeed",value:function(t){return t=""+(t.getMonth()+1)+t.getDate()+t.getFullYear(),Number.parseInt(t)}},{key:"_next",value:function(){return this.count++,this._seed=this._seed*this._r%this._p}},{key:"_nextFloat",value:function(){for(var t=(this._next()-1)/this._c;t<1;)t*=10;return t}},{key:"random",value:function(t,e){return e=e||0,Math.floor(this._nextFloat()%(t+1-e))+e}}]),t}();e.default=a},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Samai=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),l=r(o),s=n(0),u=r(s);e.Samai=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.element,r=void 0===n?document.createElement("div"):n,a=e.date,o=void 0===a?new Date:a,s=e.width,c=void 0===s?400:s,f=e.dark_colors,h=void 0===f?["#222","#227","#272","#777","#427","#722"]:f,d=e.light_colors,v=void 0===d?["#39C","#3C6","#CCC","#FC3","#C6C","#F63"]:d,_=e.line_count,p=void 0===_?2:_,g=e.fabric_enabled,m=void 0!==g&&g,b=e.n,y=void 0===b?1:b;i(this,t);var w=new u.default(this._setDate(o));this.svg=(0,l.default)(r),this.prng=new u.default(this.date),this.width=c,this.dark_colors=t.shuffle(h,w),this.light_colors=t.shuffle(v,w),this.pattern_width=c/2,this.line_count=p,this.line_height=this.pattern_width/p,this.fabric_enabled=m,this._prngNo=18,y>1&&this._goto(y),this._generatePattern()}return a(t,[{key:"_goto",value:function(t){for(var e=0;e<(t-1)*this._prngNo;e++)this.prng._next()}},{key:"_setDate",value:function(t){var e=new Date,n=t||e;return n instanceof Date?isNaN(n.getTime())&&(n=e):"string"==typeof n?(n=new Date(n),isNaN(n.getTime())&&(n=e)):n=e,this.date=n,this.date}},{key:"_getDateString",value:function(){var t,e=this.date.getMonth()+1,n=this.date.getDate();return t=(e<10?"0"+e:e)+"-",t+=(n<10?"0"+n:n)+"-",t+=this.date.getFullYear()}},{key:"_randomShape",value:function(t,e){for(var n=this.prng,r=this.line_count,i=this.line_height,a=[3],o=a[n.random(a.length-1)],l=[],s=n.random(1),u=n.random(r,1),c=r/2,f=n.random(r),h=f>c?n.random(r,c):n.random(c),d=0,v=0;v<o;v++){var _=v+1>Math.ceil(o/2)?u:0;d%2===s?l.push([(f+_)*i,0]):l.push([(h+_)*i,i]),v<o-1&&(d%2!==s?l.push([(f+_)*i,0]):l.push([(h+_)*i,i]),v++),d++}e.polygon(l).fill(t)}},{key:"_generatePattern",value:function(){var t=this,e=this.svg,n=this.pattern_width,r=this.line_count,i=this.line_height,a=this.prng.random(1),o=this.prng.random(1),l=this.prng.random(1);e.clear();var s=e.pattern(n,i,function(e){e.rect(i*(r/2),i).fill(t._fabric(t.light_colors[0],2)),e.rect(i*(r/2),i).fill(t._fabric(t.dark_colors[0],1)).move(i*(r/2),0),t._randomShape(t._fabric(t.light_colors[1],0),e),t._randomShape(t._fabric(t.dark_colors[1],1),e),t._randomShape(t._fabric(t.light_colors[2],0),e)});return s=e.pattern(n,2*i,function(t){t.rect(n,i).fill(s),a?t.rect(n,i).fill(s).move(0,i).flip("y"):t.rect(n,i).fill(s).move(0,i).rotate(180)}),o&&(s=e.pattern(2*n,2*i,function(t){t.rect(n,2*i).fill(s),l?t.rect(n,2*i).fill(s).move(n,0).flip("x"):t.rect(n,2*i).fill(s).move(n,0).rotate(180)})),e.viewbox(0,0,this.width,this.width),e.rect(this.width,this.width).fill(s),this.data_uri="data:image/svg+xml;base64,"+btoa(e.svg()),this.svg_pattern=s,s}},{key:"_fabric",value:function(e,n){var r=this,i=e;if(this.fabric_enabled){var a=4,o=a/2,l=function(t,e){return r.svg.pattern(2*t,2*t,function(n){n.rect(t,t).fill(e),n.rect(t,t).fill(e).move(t,0).rotate(90),n.rect(t,t).fill(e).move(0,t).rotate(180),n.rect(t,t).fill(e).move(t,t).rotate(270)})},i=this.svg.pattern(a,a,function(n){n.rect(o,o).fill(e),n.rect(o,o).fill(t.luminance(e,.03)).move(o,0),n.rect(o,o).fill(t.luminance(e,.06)).move(0,o),n.rect(o,o).fill(t.luminance(e,.09)).move(o,o)});n>0&&(i=l(a,i)),n>1&&(i=l(a*=2,i))}return i}},{key:"next",value:function(){return this._generatePattern(),this.data_uri}},{key:"download",value:function(){var t=this,e=document.createElement("canvas"),n=e.getContext("2d"),r=new Image;e.setAttribute("width","400px"),e.setAttribute("height","400px"),r.src=this.data_uri,r.onload=function(){n.drawImage(r,0,0);var i=e.toDataURL("image/png"),a=document.createElement("a");a.download="sama."+t._getDateString()+"."+t.prng.count/t._prngCalls+".png",a.href=i,a.click()}}}],[{key:"shuffle",value:function(t,e){var n,r,i,a=t.slice();for(i=a.length-1;i>0;i--)n=e.random(i+1),r=a[i],a[i]=a[n],a[n]=r;return a}},{key:"luminance",value:function(t,e){e=e||0,t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n,r,i="#";for(r=0;r<3;r++)n=parseInt(t.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),i+=("00"+n).substr(n.length);return i}}]),t}()}])});